var pinch=pinch||{};pinch.action=pinch.action||{},pinch.action.util=pinch.action.util||{},pinch.action.event=pinch.action.event||{SENT:1,RECEIVED:2,LISTED:3,OPENED:4,CLOSED:5,DELETED:6,INTERACTED:7,CHANGED_PAGE:8,SUBMITTED_DATA:9,NOT_RELEVANT:10,OPTED_OUT:11,GOAL_ACHIEVED:99,DEMOGRAPHICS:1e3},pinch.action.util.getQueryStringParameter=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)","i").exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},pinch.action.identifier=pinch.action.util.getQueryStringParameter("identifier"),pinch.action.hash=pinch.action.util.getQueryStringParameter("hash"),pinch.action.util.http=function(n,i,e,t){var c=new XMLHttpRequest;c.open(n,"https://api.pinch.services/public/api/v1/"+i),c.onload=function(){200===c.status?t&&t({success:!0,details:c.responseText}):t({success:!1,details:c.responseText})},null!=e&&"POST"==n?c.send(JSON.stringify(e)):c.send()},pinch.action.logEvent=function(n,i,e){if(pinch.action.identifier&&pinch.action.hash){var t={identifier:pinch.action.identifier,hash:pinch.action.hash,event:n,data:i};pinch.action.util.http("POST","event",t,function(n){null!=e?e(n):console.log(n)})}else console.log("WARNING: Invalid identifier or hash")},pinch.action.logEvent(pinch.action.event.OPENED,function(n){console.log(n)});